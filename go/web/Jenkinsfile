import groovy.src.jenkins.*
def call(body) {
    def config = [:]
    body.resolveStrategy = Closure.DELEGATE.FIRST
    body.delegate = config
    body()

    Docker = null

    try {
        properties properties: [
            disableConcurrentBuilds()
        ]
        node("jenkins-slave") {
            stage ("Get Dependencies") {
                git url: 'https://github.com/Condoamanti/programming.git'
                sh """
                ls
                """
            }

            stage ("test") {
                //docker = new Docker(this)
                //docker.hello("test message")
            }
            
        }
    } catch (error) {
        echo "Caught: ${error}"
        currentBuild.result = 'FAILURE'
    }
}